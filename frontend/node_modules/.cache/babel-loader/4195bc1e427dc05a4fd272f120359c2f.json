{"ast":null,"code":"import _classCallCheck from \"/home/chris/python-projects/django-todo-react/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/chris/python-projects/django-todo-react/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/chris/python-projects/django-todo-react/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/chris/python-projects/django-todo-react/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/chris/python-projects/django-todo-react/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/home/chris/python-projects/django-todo-react/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/home/chris/python-projects/django-todo-react/frontend/src/App.js\";\n// frontend/src/App.js\nimport React, { Component } from \"react\";\nimport Modal from \"./components/Modal\";\nimport axios from \"axios\";\n\nvar App = /*#__PURE__*/function (_Component) {\n  _inherits(App, _Component);\n\n  function App(props) {\n    var _this;\n\n    _classCallCheck(this, App);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(App).call(this, props));\n\n    _this.refreshList = function () {\n      axios.get(\"http://localhost:8000/api/todos/\").then(function (res) {\n        return _this.setState({\n          todoList: res.data\n        });\n      }).catch(function (err) {\n        return console.log(err);\n      });\n    };\n\n    _this.displayCompleted = function (status) {\n      if (status) {\n        return _this.setState({\n          viewCompleted: true\n        });\n      }\n\n      return _this.setState({\n        viewCompleted: false\n      });\n    };\n\n    _this.renderTabList = function () {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"my-5 tab-list\",\n        __self: _assertThisInitialized(_assertThisInitialized(_this)),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        onClick: function onClick() {\n          return _this.displayCompleted(true);\n        },\n        className: _this.state.viewCompleted ? \"active\" : \"\",\n        __self: _assertThisInitialized(_assertThisInitialized(_this)),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 9\n        }\n      }, \"complete\"), /*#__PURE__*/React.createElement(\"span\", {\n        onClick: function onClick() {\n          return _this.displayCompleted(false);\n        },\n        className: _this.state.viewCompleted ? \"\" : \"active\",\n        __self: _assertThisInitialized(_assertThisInitialized(_this)),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 9\n        }\n      }, \"Incomplete\"));\n    };\n\n    _this.renderItems = function () {\n      var viewCompleted = _this.state.viewCompleted;\n\n      var newItems = _this.state.todoList.filter(function (item) {\n        return item.completed === viewCompleted;\n      });\n\n      return newItems.map(function (item) {\n        return /*#__PURE__*/React.createElement(\"li\", {\n          key: item.id,\n          className: \"list-group-item d-flex justify-content-between align-items-center\",\n          __self: _assertThisInitialized(_assertThisInitialized(_this)),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 7\n          }\n        }, /*#__PURE__*/React.createElement(\"span\", {\n          className: \"todo-title mr-2 \".concat(_this.state.viewCompleted ? \"completed-todo\" : \"\"),\n          title: item.description,\n          __self: _assertThisInitialized(_assertThisInitialized(_this)),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 9\n          }\n        }, item.title), /*#__PURE__*/React.createElement(\"span\", {\n          __self: _assertThisInitialized(_assertThisInitialized(_this)),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 9\n          }\n        }, /*#__PURE__*/React.createElement(\"button\", {\n          onClick: function onClick() {\n            return _this.editItem(item);\n          },\n          className: \"btn btn-secondary mr-2\",\n          __self: _assertThisInitialized(_assertThisInitialized(_this)),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 11\n          }\n        }, \" \", \"Edit\", \" \"), /*#__PURE__*/React.createElement(\"button\", {\n          onClick: function onClick() {\n            return _this.handleDelete(item);\n          },\n          className: \"btn btn-danger\",\n          __self: _assertThisInitialized(_assertThisInitialized(_this)),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 11\n          }\n        }, \"Delete\", \" \")));\n      });\n    };\n\n    _this.toggle = function () {\n      _this.setState({\n        modal: !_this.state.modal\n      });\n    };\n\n    _this.handleSubmit = function (item) {\n      _this.toggle();\n\n      if (item.id) {\n        axios.put(\"http://localhost:8000/api/todos/\".concat(item.id, \"/\"), item).then(function (res) {\n          return _this.refreshList();\n        });\n        return;\n      }\n\n      axios.post(\"http://localhost:8000/api/todos/\", item).then(function (res) {\n        return _this.refreshList();\n      });\n    };\n\n    _this.handleDelete = function (item) {\n      axios.delete(\"http://localhost:8000/api/todos/\".concat(item.id)).then(function (res) {\n        return _this.refreshList();\n      });\n    };\n\n    _this.createItem = function () {\n      var item = {\n        title: \"\",\n        description: \"\",\n        completed: false\n      };\n\n      _this.setState({\n        activeItem: item,\n        modal: !_this.state.modal\n      });\n    };\n\n    _this.editItem = function (item) {\n      _this.setState({\n        activeItem: item,\n        modal: !_this.state.modal\n      });\n    };\n\n    _this.state = {\n      viewCompleted: false,\n      activeItem: {\n        title: \"\",\n        description: \"\",\n        completed: false\n      },\n      todoList: []\n    };\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.refreshList();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/React.createElement(\"main\", {\n        className: \"content\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(\"h1\", {\n        className: \"text-white text-uppercase text-center my-4\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 9\n        }\n      }, \"Todo app\"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row \",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-md-6 col-sm-10 mx-auto p-0\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"card p-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        onClick: this.createItem,\n        className: \"btn btn-primary\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 17\n        }\n      }, \"Add task\")), this.renderTabList(), /*#__PURE__*/React.createElement(\"ul\", {\n        className: \"list-group list-group-flush\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 15\n        }\n      }, this.renderItems())))), this.state.modal ? /*#__PURE__*/React.createElement(Modal, {\n        activeItem: this.state.activeItem,\n        toggle: this.toggle,\n        onSave: this.handleSubmit,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 11\n        }\n      }) : null);\n    }\n  }]);\n\n  return App;\n}(Component);\n\nexport default App;","map":{"version":3,"names":["React","Component","Modal","axios","App","props","refreshList","get","then","res","setState","todoList","data","catch","err","console","log","displayCompleted","status","viewCompleted","renderTabList","state","renderItems","newItems","filter","item","completed","map","id","description","title","editItem","handleDelete","toggle","modal","handleSubmit","put","post","delete","createItem","activeItem"],"sources":["/home/chris/python-projects/django-todo-react/frontend/src/App.js"],"sourcesContent":["// frontend/src/App.js\n\nimport React, { Component } from \"react\";\nimport Modal from \"./components/Modal\";\nimport axios from \"axios\";\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      viewCompleted: false,\n      activeItem: {\n        title: \"\",\n        description: \"\",\n        completed: false\n      },\n      todoList: []\n    };\n  }\n  componentDidMount() {\n    this.refreshList();\n  }\n  refreshList = () => {\n    axios\n      .get(\"http://localhost:8000/api/todos/\")\n      .then(res => this.setState({ todoList: res.data }))\n      .catch(err => console.log(err));\n  };\n  displayCompleted = status => {\n    if (status) {\n      return this.setState({ viewCompleted: true });\n    }\n    return this.setState({ viewCompleted: false });\n  };\n  renderTabList = () => {\n    return (\n      <div className=\"my-5 tab-list\">\n        <span\n          onClick={() => this.displayCompleted(true)}\n          className={this.state.viewCompleted ? \"active\" : \"\"}\n        >\n          complete\n        </span>\n        <span\n          onClick={() => this.displayCompleted(false)}\n          className={this.state.viewCompleted ? \"\" : \"active\"}\n        >\n          Incomplete\n        </span>\n      </div>\n    );\n  };\n  renderItems = () => {\n    const { viewCompleted } = this.state;\n    const newItems = this.state.todoList.filter(\n      item => item.completed === viewCompleted\n    );\n    return newItems.map(item => (\n      <li\n        key={item.id}\n        className=\"list-group-item d-flex justify-content-between align-items-center\"\n      >\n        <span\n          className={`todo-title mr-2 ${\n            this.state.viewCompleted ? \"completed-todo\" : \"\"\n          }`}\n          title={item.description}\n        >\n          {item.title}\n        </span>\n        <span>\n          <button\n            onClick={() => this.editItem(item)}\n            className=\"btn btn-secondary mr-2\"\n          >\n            {\" \"}\n            Edit{\" \"}\n          </button>\n          <button\n            onClick={() => this.handleDelete(item)}\n            className=\"btn btn-danger\"\n          >\n            Delete{\" \"}\n          </button>\n        </span>\n      </li>\n    ));\n  };\n  toggle = () => {\n    this.setState({ modal: !this.state.modal });\n  };\n  handleSubmit = item => {\n    this.toggle();\n    if (item.id) {\n      axios\n        .put(`http://localhost:8000/api/todos/${item.id}/`, item)\n        .then(res => this.refreshList());\n      return;\n    }\n    axios\n      .post(\"http://localhost:8000/api/todos/\", item)\n      .then(res => this.refreshList());\n  };\n  handleDelete = item => {\n    axios\n      .delete(`http://localhost:8000/api/todos/${item.id}`)\n      .then(res => this.refreshList());\n  };\n  createItem = () => {\n    const item = { title: \"\", description: \"\", completed: false };\n    this.setState({ activeItem: item, modal: !this.state.modal });\n  };\n  editItem = item => {\n    this.setState({ activeItem: item, modal: !this.state.modal });\n  };\n  render() {\n    return (\n      <main className=\"content\">\n        <h1 className=\"text-white text-uppercase text-center my-4\">Todo app</h1>\n        <div className=\"row \">\n          <div className=\"col-md-6 col-sm-10 mx-auto p-0\">\n            <div className=\"card p-3\">\n              <div className=\"\">\n                <button onClick={this.createItem} className=\"btn btn-primary\">\n                  Add task\n                </button>\n              </div>\n              {this.renderTabList()}\n              <ul className=\"list-group list-group-flush\">\n                {this.renderItems()}\n              </ul>\n            </div>\n          </div>\n        </div>\n        {this.state.modal ? (\n          <Modal\n            activeItem={this.state.activeItem}\n            toggle={this.toggle}\n            onSave={this.handleSubmit}\n          />\n        ) : null}\n      </main>\n    );\n  }\n}\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}